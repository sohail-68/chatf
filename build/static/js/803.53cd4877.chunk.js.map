{"version":3,"file":"static/js/803.53cd4877.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/bookmark.ts","../node_modules/lucide-react/src/icons/message-circle-more.ts","components/Post.jsx","pages/Home.jsx","services/api.jsx","../node_modules/lucide-react/src/icons/heart.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z', key: '1fy3hk' }],\n];\n\n/**\n * @component @name Bookmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMnYxNnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bookmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bookmark = createLucideIcon('bookmark', __iconNode);\n\nexport default Bookmark;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M7.9 20A9 9 0 1 0 4 16.1L2 22Z', key: 'vv11sd' }],\n  ['path', { d: 'M8 12h.01', key: 'czm47f' }],\n  ['path', { d: 'M12 12h.01', key: '1mp3jc' }],\n  ['path', { d: 'M16 12h.01', key: '1l6xoz' }],\n];\n\n/**\n * @component @name MessageCircleMore\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNy45IDIwQTkgOSAwIDEgMCA0IDE2LjFMMiAyMloiIC8+CiAgPHBhdGggZD0iTTggMTJoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxMmguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDEyaC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/message-circle-more\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircleMore = createLucideIcon('message-circle-more', __iconNode);\n\nexport default MessageCircleMore;\n","import { Trash2, Pencil } from \"lucide-react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { motion } from \"framer-motion\"; // Import Framer Motion\r\nimport {\r\n  likePost,\r\n  commentOnPost,\r\n  Del,\r\n} from \"../services/api\";\r\nimport { HeartIcon, BookmarkIcon, ChatBubbleOvalLeftEllipsisIcon } from \"@heroicons/react/24/outline\";\r\nimport {\r\n  FaHeart,\r\n  FaRegHeart,\r\n  FaTrash,\r\n  FaEdit,\r\n  FaEllipsisV,\r\n  FaBookmark,\r\n  FaCommentDots,\r\n} from \"react-icons/fa\";\r\nimport { Heart, Bookmark, MessageCircleMore, HeartCrack } from \"lucide-react\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\"; // Toast notifications\r\nimport \"react-toastify/dist/ReactToastify.css\"; // Toast styles\r\nconst Post = ({ post, handleDeleteSuccess }) => {\r\n  const [comment, setComment] = useState(\"\");\r\n  const [menu, setMenu] = useState(\"\"); // Menu state for managing different UI views\r\n  const [liked, setLiked] = useState(false);\r\n  const [likesCount, setLikesCount] = useState(post.likes.length);\r\n  const ref = useRef();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const isPostLiked = post.likes.some(\r\n      (like) => like.user === sessionStorage.getItem(\"userid\")\r\n    );\r\n    setLiked(isPostLiked);\r\n  }, [post.likes]);\r\n\r\n  const handleLike = async () => {\r\n    setLiked(!liked);\r\n    setLikesCount(liked ? likesCount - 1 : likesCount + 1);\r\n    try {\r\n      const updatedPost = await likePost(post._id);\r\n      const isLiked = updatedPost.data.post.likes.some(\r\n        (like) => like.user === sessionStorage.getItem(\"userid\")\r\n      );\r\n      setLiked(isLiked);\r\n      setLikesCount(updatedPost.data.post.likes.length);\r\n    } catch (error) {\r\n      console.error(\"Error liking post:\", error);\r\n      setLiked(!liked); // Revert like on error\r\n      setLikesCount(liked ? likesCount + 1 : likesCount - 1);\r\n    }\r\n  };\r\n  const handleComment = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await commentOnPost(post._id, { text: comment });\r\n      setComment(\"\");\r\n  \r\n      // Toast notification for success\r\n      toast.success(\"Comment posted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error commenting on post:\", error);\r\n  \r\n      // Toast notification for error\r\n      toast.error(\"Failed to post comment. Please try again.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const handleEdit = () =>\r\n    navigate(`create/${post._id}`, { state: { post } });\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await Del(post._id);\r\n      handleDeleteSuccess(post._id);\r\n  \r\n      // Toast notification for success\r\n      toast.success(\"Post deleted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting post:\", error);\r\n  \r\n      // Toast notification for error\r\n      toast.error(\"Failed to delete post. Please try again.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const openUserProfile = () => {\r\n    if (post.user._id === sessionStorage.getItem(\"userid\")) {\r\n      navigate(\"/profile\");\r\n    } else {\r\n      navigate(`/userprofile/${post.user._id}`, { state: { post } });\r\n    }\r\n  };\r\n\r\n  const handleSave = async (data) => {\r\n    try {\r\n      const token = sessionStorage.getItem(\"token\");\r\n      if (!token) throw new Error(\"User not authenticated\");\r\n  \r\n      await axios.post(\r\n        `http://localhost:5001/api/auth/bookmark/${data}`,\r\n        {},\r\n        { headers: { Authorization: `${token}` } }\r\n      );\r\n  \r\n      // Toast notification for success\r\n      toast.success(\"Post bookmarked successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error bookmarking post:\", error);\r\n  \r\n      // Toast notification for error\r\n      toast.error(\"Failed to bookmark post. Please try again.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const toggleMenu = (newState) => {\r\n    // Toggle between menu and comment input\r\n    setMenu(menu === newState ? \"\" : newState);\r\n  };\r\n  const moods = {\r\n    normal: \"üòê\",\r\n    happy: \"üòä\",\r\n    sad: \"üò¢\",\r\n  };\r\n\r\n  // Animation Variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0, y: 50 },\r\n    visible: { opacity: 1, y: 0, transition: { duration: 0.5 } },\r\n    exit: { opacity: 0, y: -50, transition: { duration: 0.3 } },\r\n  };\r\n\r\n  return (\r\n  <motion.div\r\n  variants={containerVariants}\r\n  initial=\"hidden\"\r\n  animate=\"visible\"\r\n  exit=\"exit\"\r\n  className=\"relative rounded-2xl backdrop-blur-md bg-white/40 shadow-xl border border-white/30 p-4 mb-6\"\r\n>\r\n  {/* Header */}\r\n  <div className=\"flex items-center gap-3 mb-3\">\r\n    <img\r\n      src={post.user.profilePicture}\r\n      alt=\"Profile\"\r\n      className=\"w-11 h-11 rounded-full object-cover ring-2 ring-white\"\r\n    />\r\n    <h6\r\n      className=\"text-gray-900 font-semibold hover:underline cursor-pointer text-base\"\r\n      onClick={openUserProfile}\r\n    >\r\n      {post.user.username}\r\n    </h6>\r\n  </div>\r\n\r\n  {/* Post Image */}\r\n  {post.image && (\r\n    <motion.div className=\"mb-4 rounded-xl overflow-hidden\">\r\n      <img\r\n        src={post.image}\r\n        alt=\"Post\"\r\n        className=\"w-full object-cover rounded-xl shadow\"\r\n      />\r\n    </motion.div>\r\n  )}\r\n\r\n  {/* Caption */}\r\n  {post.caption && (\r\n    <motion.p\r\n      ref={ref}\r\n      className=\"text-base font-medium text-gray-800 bg-gray-100 px-4 py-2 rounded-xl shadow-sm\"\r\n      initial={{ opacity: 0, y: -50 }}\r\n      animate={{ opacity: 1, y: 0, transition: { duration: 0.6 } }}\r\n    >\r\n      <span className=\"font-bold text-gray-900\">Caption: </span>\r\n      {post.caption}\r\n    </motion.p>\r\n  )}\r\n\r\n  {/* Mood */}\r\n  <motion.p\r\n    ref={ref}\r\n    className=\"text-base font-medium text-gray-700 bg-gray-100 px-4 py-2 rounded-xl shadow-sm mt-2\"\r\n    initial={{ opacity: 0, x: -50 }}\r\n    animate={{ opacity: 1, x: 0, transition: { duration: 0.6 } }}\r\n  >\r\n    <span className=\"font-bold text-gray-900\">Mood: </span>\r\n    {post.mood === \"Normal\"\r\n      ? `${post.mood} ${moods.normal}`\r\n      : post.mood === \"Sad\"\r\n      ? `${post.mood} ${moods.sad}`\r\n      : post.mood === \"Happy\"\r\n      ? `${post.mood} ${moods.happy}`\r\n      : \"Unknown\"}\r\n  </motion.p>\r\n\r\n  {/* Actions */}\r\n  <div className=\"flex items-center gap-6 mt-4\">\r\n    {/* Like */}\r\n    <motion.button\r\n      onClick={handleLike}\r\n      className=\"flex items-center gap-2 text-gray-700 hover:text-red-500 transition\"\r\n      whileTap={{ scale: 0.9 }}\r\n    >\r\n      {liked ? (\r\n        <Heart className=\"w-6 h-6 fill-red-500 text-red-500 transition\" />\r\n      ) : (\r\n        <Heart className=\"w-6 h-6 transition\" />\r\n      )}\r\n      <span className=\"text-sm font-medium\">{likesCount}</span>\r\n    </motion.button>\r\n\r\n    {/* Save */}\r\n    <motion.button\r\n      onClick={() => handleSave(post._id)}\r\n      className=\"flex items-center gap-2 text-gray-700 hover:text-blue-500 transition\"\r\n      whileTap={{ scale: 0.9 }}\r\n    >\r\n      <Bookmark className=\"w-6 h-6 transition\" />\r\n      <span className=\"text-sm font-medium\">Save</span>\r\n    </motion.button>\r\n\r\n    {/* Comment */}\r\n    <motion.button\r\n      onClick={() => toggleMenu(\"comment\")}\r\n      className=\"flex items-center gap-2 text-gray-700 hover:text-green-500 transition\"\r\n      whileTap={{ scale: 0.9 }}\r\n    >\r\n      <MessageCircleMore className=\"w-6 h-6 transition\" />\r\n      <span className=\"text-sm font-medium\">Comment</span>\r\n    </motion.button>\r\n  </div>\r\n\r\n  {/* Comment Input */}\r\n  {menu === \"comment\" && (\r\n    <motion.form\r\n      onSubmit={handleComment}\r\n      className=\"flex items-center gap-2 mt-4\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1, transition: { duration: 0.3 } }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Add a comment...\"\r\n        value={comment}\r\n        onChange={(e) => setComment(e.target.value)}\r\n        className=\"flex-1 border rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n      />\r\n      <button type=\"submit\" className=\"text-blue-600 font-medium\">\r\n        Post\r\n      </button>\r\n    </motion.form>\r\n  )}\r\n\r\n  {/* Edit/Delete Menu */}\r\n  {menu === \"menu\" && (\r\n    <motion.div\r\n      className=\"mt-3 space-y-2\"\r\n      initial={{ opacity: 0, scale: 0.8 }}\r\n      animate={{ opacity: 1, scale: 1, transition: { duration: 0.3 } }}\r\n      exit={{ opacity: 0, scale: 0.8, transition: { duration: 0.3 } }}\r\n    >\r\n      <button\r\n        className=\"w-full text-left px-3 py-1.5 rounded-md text-blue-600 font-medium hover:bg-blue-100\"\r\n        onClick={handleEdit}\r\n      >\r\n        Edit\r\n      </button>\r\n      <button\r\n        className=\"w-full text-left px-3 py-1.5 rounded-md text-red-600 font-medium hover:bg-red-100\"\r\n        onClick={handleDelete}\r\n      >\r\n        Delete\r\n      </button>\r\n    </motion.div>\r\n  )}\r\n\r\n  <ToastContainer\r\n    position=\"top-right\"\r\n    autoClose={2000}\r\n    hideProgressBar={false}\r\n    newestOnTop\r\n    closeOnClick\r\n    pauseOnHover\r\n    draggable\r\n    theme=\"colored\"\r\n  />\r\n</motion.div>\r\n\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","// src/pages/Home.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { fetchPosts } from '../services/api';\r\nimport Post from '../components/Post';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  console.log(posts);\r\n  \r\nconst naviagate=useNavigate()\r\n  useEffect(() => {\r\n    const getPosts = async () => {\r\n      try {\r\n        const { data } = await fetchPosts();\r\n        setPosts(data);\r\n        \r\n      } catch (error) {\r\n        if(error.status===401){\r\n          naviagate(\"/login\")\r\n        }\r\n        \r\n        console.error(error);\r\n      }\r\n    };\r\n    getPosts();\r\n  }, []);\r\n\r\nconsole.log(posts);\r\n\r\n //posts);\r\n  console.log(posts);\r\n  \r\n  const handleDeleteSuccess = (deletedPostId) => {\r\n    setPosts(posts.filter(post => post._id !== deletedPostId));\r\n  };\r\n\r\nconsole.log(posts);\r\n\r\n  return (\r\n    <div className='flex flex-col gap-2 p-3'>\r\n      {posts.map((post) => (\r\n        <Post key={post._id} post={post}  handleDeleteSuccess={handleDeleteSuccess}/>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","// src/services/api.js\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst API = axios.create({ baseURL: 'https://chatb-vrft.onrender.com/api' });\r\n\r\n// Attach the token for authorization\r\nAPI.interceptors.request.use((req) => {\r\n  if (sessionStorage\r\n.getItem('token')) {\r\n    req.headers.Authorization =sessionStorage\r\n.getItem('token');\r\n  }\r\n  return req;\r\n});\r\n\r\n// Auth API\r\nexport const login = (formData) => API.post('/auth/login', formData);\r\nexport const register = (formData) => API.post('/auth/register', formData);\r\n\r\n// Post API\r\nexport const fetchPosts = () => API.get('/all');\r\nexport const Del = (id) => API.delete(`/delete/${id}`);\r\nexport const createPost = (postData) => API.post('/addpost', postData);\r\nexport const Edit = (id,postData) => API.put(`/edit/${id}`, postData);\r\nexport const likePost = (id) => API.post(`${id}/like`);\r\nexport const commentOnPost = (id, commentData) => API.post(`${id}/comment`,commentData);\r\nexport const fetchComments = (id) => API.get(`/posts/${id}/comments`);\r\n// src/services/api.js\r\n\r\nlet socket;\r\nexport const connectSocket = () => {\r\n  if (!socket) {\r\n    socket = io('http://localhost:5000'); // Connect to server\r\n  }\r\n  return socket;\r\n};\r\n\r\nexport const disconnectSocket = () => {\r\n  if (socket) socket.disconnect();\r\n};\r\n\r\nexport const sendMessage = (msg) => {\r\n  if (socket) socket.emit('chatMessage', msg);\r\n};\r\n\r\nexport const onMessageReceived = (callback) => {\r\n  if (socket) socket.on('chatMessage', callback);\r\n};\r\nexport const fetchBookmarks = async () => {\r\n  try {\r\n    const response = await axios.get(\r\n      \"https://chatb-vrft.onrender.com/api/auth/bookmarked\",\r\n      {\r\n        headers: { Authorization: localStorage\r\n.getItem(\"token\") },\r\n      }\r\n    );\r\n    return response.data.bookmarks; // Return bookmarks to caller\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch bookmarks\", error);\r\n    throw error; // Re-throw the error for the caller to handle\r\n  }\r\n};\r\nexport const loadBookmarks=async()=>{\r\n  \r\n}\r\n\r\n// Function to delete all bookmarks\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z',\n      key: 'c3ymky',\n    },\n  ],\n];\n\n/**\n * @component @name Heart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMTRjMS40OS0xLjQ2IDMtMy4yMSAzLTUuNUE1LjUgNS41IDAgMCAwIDE2LjUgM2MtMS43NiAwLTMgLjUtNC41IDItMS41LTEuNS0yLjc0LTItNC41LTJBNS41IDUuNSAwIDAgMCAyIDguNWMwIDIuMyAxLjUgNC4wNSAzIDUuNWw3IDdaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/heart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heart = createLucideIcon('heart', __iconNode);\n\nexport default Heart;\n"],"names":["Bookmark","createLucideIcon","d","key","MessageCircleMore","post","handleDeleteSuccess","comment","setComment","useState","menu","setMenu","liked","setLiked","likesCount","setLikesCount","likes","length","ref","useRef","navigate","useNavigate","useEffect","isPostLiked","some","like","user","sessionStorage","getItem","moods","variants","hidden","opacity","y","visible","transition","duration","exit","initial","animate","className","src","profilePicture","alt","onClick","_id","state","username","image","caption","x","mood","async","updatedPost","likePost","isLiked","data","error","console","whileTap","scale","token","Error","axios","headers","Authorization","toast","handleSave","newState","onSubmit","e","preventDefault","commentOnPost","text","type","placeholder","value","onChange","target","Del","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnHover","draggable","theme","posts","setPosts","log","naviagate","fetchPosts","status","getPosts","deletedPostId","filter","map","API","baseURL","interceptors","request","use","req","get","id","delete","createPost","postData","Edit","put","commentData","Heart"],"sourceRoot":""}